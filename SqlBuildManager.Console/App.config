<?xml version="1.0"?>
<configuration>
	<configSections>
		<section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net"/>
	</configSections>
	<appSettings>
		<add key="DynamicHttpEndpointTemplate" value="http://[[ServerName]]:8675/BuildService.svc"/>
		<add key="DynamicTcpEndpointTemplate" value="net.tcp://[[ServerName]]:8676/SqlBuildManager.Services/BuildService"/>
	</appSettings>
	<log4net debug="false">
		<appender name="EventLogAppender" type="log4net.Appender.EventLogAppender">
			<param name="LogName" value="Application"/>
			<param name="ApplicationName" value="SqlBuildManager.Console"/>
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%date [%thread] %-5level %logger [%property{NDC}] - %message%newline"/>
			</layout>
		</appender>
		<appender name="StandardRollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
			<file value="SqlBuildManager.Console.log"/>
			<appendToFile value="true"/>
			<rollingStyle value="Size"/>
			<maxSizeRollBackups value="10"/>
			<maximumFileSize value="1000KB"/>
			<staticLogFileName value="true"/>
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%date [Thread: %thread] %-5level %logger - %message%newline"/>
			</layout>
		</appender>
		<root>
			<priority value="DEBUG"/>
			<appender-ref ref="EventLogAppender"/>
			<appender-ref ref="StandardRollingLogFileAppender"/>
		</root>
	</log4net>
	<system.serviceModel>
		<bindings>
			<!--<basicHttpBinding>
				<binding name="BasicHttpBinding_IBuildService" closeTimeout="00:01:00"
                    openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
                    allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
                    maxBufferSize="65536" maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
                    messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
                    useDefaultWebProxy="true">
					<readerQuotas maxDepth="32" maxStringContentLength="1000000" maxArrayLength="1000000"
                        maxBytesPerRead="4096" maxNameTableCharCount="1000000" />
					<security mode="TransportCredentialOnly">
						<transport clientCredentialType="Windows" proxyCredentialType="None"
                            realm="" />
						<message clientCredentialType="UserName" algorithmSuite="Default" />
					</security>
				</binding>
			</basicHttpBinding>-->
			<netTcpBinding>
				<binding name="netTcp_IBuildService" maxBufferSize="5242880" maxReceivedMessageSize="5242880">
					<security mode="None"/>
					<readerQuotas maxDepth="32" maxStringContentLength="5242880" maxArrayLength="5242880" maxBytesPerRead="4096" maxNameTableCharCount="5242880"/>
				</binding>
			</netTcpBinding>
		</bindings>
		<client>
			<!--<endpoint address="http://localhost:4631/BuildService.svc" binding="basicHttpBinding"
                bindingConfiguration="BasicHttpBinding_IBuildService" contract="Sbm.BuildService.IBuildService"
                name="BasicHttpBinding_IBuildService" />-->
			<endpoint address="net.tcp://localhost:8676/SqlBuildManager.Services/BuildService" binding="netTcpBinding" bindingConfiguration="netTcp_IBuildService" contract="Sbm.BuildService.IBuildService" name="IBuildServiceEndpoint">

			</endpoint>
		</client>
	</system.serviceModel>

<startup><supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0"/></startup></configuration>
