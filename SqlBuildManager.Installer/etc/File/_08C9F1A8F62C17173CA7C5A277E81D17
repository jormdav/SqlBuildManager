<?xml version="1.0"?>
<configuration>
	<configSections>
		<section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net"/>
	</configSections>

	<log4net debug="false">
		<appender name="EventLogAppender" type="log4net.Appender.EventLogAppender">
			<param name="LogName" value="Application"/>
			<param name="ApplicationName" value="SqlBuildManager.Services"/>
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%date [%thread] %-5level %logger [%property{NDC}] - %message%newline"/>
			</layout>
		</appender>
		<appender name="StandardRollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
			<file value="SqlBuildManager.Services.log"/>
			<appendToFile value="true"/>
			<rollingStyle value="Size"/>
			<maxSizeRollBackups value="10"/>
			<maximumFileSize value="1000KB"/>
			<staticLogFileName value="true"/>
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%date [Thread: %thread] %-5level %logger - %message%newline"/>
			</layout>
		</appender>
		<root>
			<priority value="INFO"/>
			<appender-ref ref="EventLogAppender"/>
			<appender-ref ref="StandardRollingLogFileAppender"/>
		</root>
	</log4net>
	<system.serviceModel>
		<diagnostics>
			<messageLogging logEntireMessage="true" logMalformedMessages="false" logMessagesAtServiceLevel="false" logMessagesAtTransportLevel="false"/>
		</diagnostics>
		<bindings>
			<netTcpBinding>
				<binding name="netTcp_IBuildService" maxBufferSize="5242880" maxReceivedMessageSize="5242880">
					<security mode="None"/>
					<readerQuotas maxDepth="32" maxStringContentLength="5242880" maxArrayLength="5242880" maxBytesPerRead="4096" maxNameTableCharCount="5242880"/>
				</binding>
			</netTcpBinding>
		</bindings>
		<client>
			<endpoint address="net.tcp://localhost:8676/SqlBuildManager.Services/BuildService" binding="netTcpBinding" bindingConfiguration="netTcp_IBuildService" contract="SqlBuildManager.Services.IBuildService" name="IBuildServiceEndpoint"/>
		</client>
		<services>
			<service behaviorConfiguration="SqlBuildManager.Services.BuildServiceBehavior" name="SqlBuildManager.Services.BuildService">
				<endpoint address="net.tcp://localhost:8676/SqlBuildManager.Services/BuildService" binding="netTcpBinding" bindingConfiguration="netTcp_IBuildService" name="buildService_netTcP" contract="SqlBuildManager.Services.IBuildService"/>
				<host>
					<baseAddresses>
						<add baseAddress="net.tcp://localhost:8676/SqlBuildManager.Services/BuildService"/>
					</baseAddresses>
				</host>
			</service>
		</services>
		<behaviors>
			<serviceBehaviors>
				<behavior name="SqlBuildManager.Services.BuildServiceBehavior">
					<serviceMetadata httpGetEnabled="false"/>
					<serviceDebug includeExceptionDetailInFaults="true"/>
				</behavior>
			</serviceBehaviors>
		</behaviors>
	</system.serviceModel>
<startup><supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0"/></startup></configuration>
