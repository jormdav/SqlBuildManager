<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <section name="unity" type="Microsoft.Practices.Unity.Configuration.UnityConfigurationSection, Microsoft.Practices.Unity.Configuration" />
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net" />
  </configSections>
  <log4net>
    <root>
      <level value="ALL" />
      <appender-ref ref="LogFileAppender" />
    </root>
    <appender name="LogFileAppender" type="log4net.Appender.RollingFileAppender, log4net" >
      <param name="File" value="SecurityLog.txt"/>
      <param name="AppendToFile" value="true" />
      <param name="rollingStyle" value="Date" />
      <param name="datePattern" value="yyyyMMdd" />
      <layout type="log4net.Layout.PatternLayout, log4net">
        <!--Pattern to add timestamp, type, etc.-->
        <param name="ConversionPattern" value="%d [%t] %-5p %c [%x] - %m%n" />
      </layout>
    </appender>
  </log4net>
  <appSettings>
    <add key="DatabaseUserName" value="vT1CYSYFZDCv5I/ueVDqPenPmTdPDIlpHoohSSfc0ak="/>
    <add key="DatabasePassword" value="Feeib2f4UlR9Tu4KzuMG+Q=="/>
    <add key="SqlPort" value="1433"/>
    <add key="SQLServer" value="DEVTLOMASTER\\tlo_mstr"/>
    <add key="ServiceDLL" value="Paychex.Tlo.Security.Service"/>
    <add key="RegistryDir" value="Software\\NETtime"/>
    <add key="MasterDBName" value="MyVitrix"/>
    <add key="DbFactory.Provider" value="System.Data.SqlClient"/>

    <add key="Log4Net.ConfigFile" value="log4net.config"/>
    <!-- internal log4net debugging threshold; not the logger output threshold -->
    <add key="log4net.Internal.Debug" value="true"/>
    <!-- this is the threshold for log output -->
    <add key="Log4Net.Threshold" value="DEBUG"/>
    <add key="Log4Net.PerfLogger.Level" value="INFO" />
    <add key="Log4Net.AdoAppender.ConnectionString" value="data source=DEVTLOMASTER\TLO_Mstr,1433;initial catalog=Logging;integrated security=false;persist security info=True;Connect Timeout=1;User ID=TLO_LOG4NET_APP;Password=ujFPntdFvCViF1nQzv/7hA=="/>
    <add key="Log4Net.LogFile.App" value="C:\logs\TLO_logfile_SecurityService.log"/>
    <add key="Log4Net.LogFile.Performance" value="C:\logs\Performance_logfile_SecurityService.log"/>
	<add key="aspnet:UseTaskFriendlySynchronizationContext" value="true" />
  </appSettings>
  <unity>
    <typeAliases>
      <typeAlias alias="bool" type="System.Boolean, mscorlib"/>
      <typeAlias alias="string" type="System.String, mscorlib"/>
      <typeAlias alias="int" type="System.Int32, mscorlib"/>
      <typeAlias alias="Type" type="System.Type, mscorlib"/>
      <typeAlias alias="wcfOperation" type="Paychex.Tlo.UnityExtensions.UnityOperationContextLifetimeManager, Paychex.Tlo.UnityExtensions"/>
      <typeAlias alias="wcfInstance" type="Paychex.Tlo.UnityExtensions.UnityInstanceContextLifetimeManager, Paychex.Tlo.UnityExtensions"/>
      <typeAlias alias="wcfServiceHost" type="Paychex.Tlo.UnityExtensions.UnityServiceHostBaseLifetimeManager, Paychex.Tlo.UnityExtensions"/>
      <!-- User-defined type aliases -->
      <typeAlias alias="IConnection" type="Paychex.Tlo.Foundation.Interfaces.IConnection, Paychex.Tlo.Foundation.Interfaces"/>
      <typeAlias alias="IClientConnection" type="Paychex.Tlo.Foundation.Interfaces.IClientConnection, Paychex.Tlo.Foundation.Interfaces"/>
      <typeAlias alias="TloConnection" type="Paychex.Tlo.Foundation.DataAccess.TloConnection, Paychex.Tlo.Foundation.DataAccess"/>
      <typeAlias alias="TloClientConnection" type="Paychex.Tlo.Foundation.DataAccess.TloClientConnection, Paychex.Tlo.Foundation.DataAccess"/>
    </typeAliases>
    <containers>
      <container>
        <types>
          <type type="IClientConnection" mapTo="TloClientConnection">
            <lifetime type="wcfOperation"/>
          </type>
          <type type="IConnection" mapTo="TloConnection">
            <lifetime type="wcfOperation"/>
          </type>
        </types>
        <extensions>
          <add type="Microsoft.Practices.Unity.InterceptionExtension.Interception, Microsoft.Practices.Unity.Interception"/>
        </extensions>
      </container>
      <!-- ... more containers here ... -->
    </containers>
  </unity>
  <system.web>
    <compilation debug="true" targetFramework="4.5" />
    <httpRuntime targetFramework="4.5"/>
  </system.web>
  <system.serviceModel>
    <diagnostics wmiProviderEnabled="true" />
    <behaviors>
      <serviceBehaviors>
        <behavior>
          <!-- To avoid disclosing metadata information, set the values below to false before deployment -->
          <serviceMetadata httpGetEnabled="true" httpsGetEnabled="true" />
          <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
          <serviceDebug includeExceptionDetailInFaults="false" />
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <protocolMapping>
        <add binding="basicHttpsBinding" scheme="https" />
    </protocolMapping>    
    <serviceHostingEnvironment aspNetCompatibilityEnabled="true" multipleSiteBindingsEnabled="true" />
  </system.serviceModel>
  <system.webServer>
    <modules runAllManagedModulesForAllRequests="true" />
    <!--
        To browse web app root directory during debugging, set the value below to true.
        Set to false before deployment to avoid disclosing web app folder information.
      -->
    <directoryBrowse enabled="true" />
  </system.webServer>


  <runtime>

    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">

      <dependentAssembly>

        <assemblyIdentity name="Microsoft.Practices.Unity" publicKeyToken="31bf3856ad364e35" culture="neutral" />

        <bindingRedirect oldVersion="0.0.0.0-3.0.0.0" newVersion="3.0.0.0" />

      </dependentAssembly>

    </assemblyBinding>

  </runtime>
</configuration>
